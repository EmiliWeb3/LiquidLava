<x:widget extends="Example" controller="CheckTreeExample">
	<template role="main">
		<div style="position: relative;height: 320px;width: 350px;overflow: auto;border: 1px solid gray;">
			<x:widget extends="FolderTree">
				<assign name="records">$tree_example.records</assign>
				<edit_template name="node_body">
					<task type="traverse">
						<script x:equiv="handler">
							({
								arguments: null, /*H:Will be assigned by framework, see the &lt;arguments&gt; below*/
								visitView: function(walker, node) {
									node.template = this.arguments[0].concat(node.template); /*H:Prepend template with checkbox to the first view's content*/
									walker.interrupt();
								}
							})
						</script>
						<arguments>
							<template>
								<checkbox style="float: right">
									<x:assign name="is_checked">node.is_checked</x:assign>
									<x:assign name="is_indeterminate">node.is_indeterminate</x:assign>
									<x:roles>$tree_example._checkbox</x:roles>
								</checkbox>
							</template>
						</arguments>
					</task>
				</edit_template>
				<script x:equiv="options" type="application/json">
					{use_meta_storage: true}
				</script>
			</x:widget>
		</div>
	</template>
	<assign name="records">#ExamplesApp.tree_records</assign>
</x:widget>