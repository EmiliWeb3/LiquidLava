<example id="main_page_example">
	<div class="col-md-6" style="padding: 1em;overflow: auto;height: 370px;position: relative;">
		<x:widget controller="MainPageTree" extends="Tree" id="main_page_tree">
			<template role="include" name="node_body">
				<div class="lava-tree-node" x:type="view" unselectable="on" x:classes="'level-' + level">
					{#expression(pad) escape_off}{/expression}{* remove whitespace
					*}<i x:type="view"
					     class="lava-tree-expander"
					     x:event:click="$tree.node_click(node)"
					     x:classes="'lava-tree'
							+ ((foreach_index == @parent->count - 1) ? '-bottom' : '-middle')
							+ ((node.type == 'folder' && node.children.length)
								? (node.is_expanded ? '-expanded' : '-collapsed')
								: '-node')"></i>{>$tree.icon}
					{>$tree.node_title}
				</div>
			</template>
			<template role="include" name="node_children">
				{$if(node.children.length && node.is_expanded)}
					<x:refresher>{class: 'Collapse'}</x:refresher>
					<x:container_config>
						{
							class: "Emulated",
							options: {
								placement: "after-previous"
							}
						}
					</x:container_config>
					<x:assign name="pad">
						{literal:}
							(foreach_index == count - 1)
								? pad + '<div class="lava-tree-pad"></div>'
								: pad + '<div class="lava-tree-pad-line"></div>'
						{:literal}
					</x:assign>
					<x:assign name="level">@parent->level + 1</x:assign>
					<div x:type="container" class="lava-tree-container">
						{#foreach(node.children) as=node}
							{>$tree.node}
						{/foreach}
					</div>
				{/if}
			</template>
			<assign name="records">tree_records</assign>
		</x:widget>
	</div>
	<div class="col-md-6" style="padding: 1em">
		<x:widget extends="EditableTable" id="main_page_table">
			<script x:equiv="options" type="application/json">
				{
					columns: [
						{name: 'title', title: 'Title', type: 'String', is_editable: true},
						{name: 'type', title: 'Type', type: 'String'},
						{name: 'is_expanded', title: 'Expanded?', type: 'Boolean', is_editable: true}
					]
				}
			</script>
			<assign name="records">all_tree_records</assign>
		</x:widget>
	</div>
	<div class="clearfix"></div>
</example>